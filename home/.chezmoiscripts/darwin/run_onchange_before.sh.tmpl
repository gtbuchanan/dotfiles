#!/bin/bash
BREW_FORMULAS=(
  bash
  chezmoi
{{- if eq .hosttype "ewn" }}
  dashlane/tap/dashlane-cli
{{- end }}
  gnupg
{{- if eq .hosttype "ewn" }}
  node@20
{{- else }}
  node
{{- end }}
  pnpm
  ripgrep
  starship
  tmux
  vim
)
BREW_CASKS=(
  google-chrome
  visual-studio-code
  wezterm
)

brew update
brew install $(printf "%s " "${BREW_FORMULAS[@]}")
brew install --cask $(printf "%s " "${BREW_CASKS[@]}")

# Replace ZSH with newer Bash
BASH_PATH=/opt/homebrew/bin/bash
grep -Fxq "$BASH_PATH" /etc/shells || echo "$BASH_PATH" | sudo tee -a /etc/shells
chsh -s "$BASH_PATH"

# Install Nerd Font
curl -fsSL https://raw.githubusercontent.com/getnf/getnf/main/install.sh | bash
getnf -i CascadiaCode
